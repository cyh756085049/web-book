## 小程序设置的全过程（粉笔公考）

#### 小程序与普通网页开发的区别

在开发语言层面上，小程序与传统的网页差别不大，是使用js脚本语言进行编写的，**使用类似于HTML的WXML来描述页面的结构、使用类似于CSS的WXSS来描述节点的样式**。

但是由于**小程序渲染和逻辑分离的运行机制**与传统的网页存在差异，所以无法使用传统的网页的开发调试工具，因此推出了小程序开发生态一站式IDE——微信开发者工具。

**网页开发渲染线程和脚本线程是互斥的**，而在小程序中，二者是分开的，分别运行在不同的线程中。网页开发者可以使用到各种浏览器暴露出来的 DOM API，进行 DOM 选中和操作。小程序的逻辑层逻辑层运行在 JSCore 中，并没有一个完整浏览器对象，因而缺少相关的DOM API和BOM API。这一区别导致了**在小程序中是无法运行前端开发非常熟悉的一些库**，例如 jQuery、 Zepto 等。同时 JSCore 的环境同 NodeJS 环境也是不尽相同，所以一些 NPM 的包在小程序中也是无法运行的。

网页开发者在开发网页的时候，只需要使用到浏览器，并且搭配上一些辅助工具或者编辑器即可。小程序的开发则有所不同，需要经过申请小程序帐号、安装小程序开发者工具、配置项目等等过程方可完成。

网页开发所运行的环境基本是各大浏览器。小程序基本运行环境是 iOS 和 Android 的微信客户端。

app.js、app.json

## 微信小程序

## 微信小程序主流框架汇总

#### WEPY

腾讯团队开源的一款类vue语法规范的小程序框架,借鉴了Vue的语法风格和功能特性,支持了Vue的诸多特征，比如父子组件、组件之间的通信、computed属性计算、wathcer监听器、props传值、slot槽分发，还有很多高级的特征支持：Mixin混合、拦截器等。

#### Taro

京东凹凸实验室开源的一款使用 React.js 开发微信小程序的前端框架。它采用与 React 一致的组件化思想，组件生命周期与 React 保持一致，同时支持使用 JSX 语法，让代码具有更丰富的表现力，使用 Taro 进行开发可以获得和 React 一致的开发体验。,同时因为使用了react的原因所以除了能编译h5, 小程序外还可以编译为ReactNative;

#### uni-app

uni-app 是一个使用 Vue.js 开发所有前端应用的框架，
**开发者编写一套代码，可发布到iOS、Android、H5、以及各种小程序（微信/支付宝/百度/头条/QQ/钉钉）等多个平台。**

#### MpVue

美团团队开源的一款使用 Vue.js 开发微信小程序的前端框架。使用此框架，开发者将得到完整的 Vue.js 开发体验，同时为 H5 和小程序提供了代码复用的能力。



引入过多框架是否会带来性能的损耗，因此我比较倾向与原生。

## 微信小程序有几个文件

- `WXML（WeiXin Markup Language）`是框架设计的一套标签语言，结合基础组件、事件系统，可以构建出页面的结构。内部主要是微信自己定义的一套组件
- `WXSS (WeiXin Style Sheets)`是一套样式语言，用于描述 `WXML` 的组件样式
- `js`逻辑处理，网络请求
- `json`小程序设置，如页面注册，页面标题及`tabBar`

## 简述微信小程序原理

- 微信小程序采用  `JavaScript、WXML、WXSS` 三种技术进行开发,本质就是一个**单页面应用**，**所有的页面渲染和事件处理，都在一个页面内进行，但又可以通过微信客户端调用原生的各种接口。**
- 微信的架构，是**数据驱动的架构模式**，它的 `UI` 和数据是分离的，所有的页面更新，都需要通过对数据的更改来实现。
- 小程序分为两个部分 `webview`和 `appService` 。其中 `webview` 主要用来展现`UI ，appService` 有来处理业务逻辑、数据及接口调用。它们在两个进程中运行，通过系统层 `JSBridge` 实现通信，实现 UI 的渲染、事件的处理。

## 小程序的生命周期函数

- `onLoad` 页面加载时触发。一个页面只会调用一次，可以在`onLoad` 的参数中获取打开当前页面路径中的参数
- `onShow()` 页面显示/切入前台时触发
- `onReady()` 页面初次渲染完成时触发。一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互
- `onHide()` 页面隐藏/切入后台时触发。 如 `navigateTo` 或底部 `tab` 切换到其他页面，小程序切入后台等
- `onUnload()` 页面卸载时触发。如 `redirectTo 或 navigateBack` 到其他页面时

## 微信小程序怎样跟事件传值

给 HTML 元素添加 `data-*`属性来传递我们需要的值，然后通过 `e.currentTarget.dataset` 或 `onload`的 `param`参数获取。但 `data -`名称不能有大写字母和不可以存放对象

## 微信小程序与vue区别

- 生命周期不一样，微信小程序生命周期比较简单
- 数据绑定也不同，微信小程序数据绑定需要使用`{{}}，vue` 直接:就可以 显示与隐藏元素，`vue`中，使用 `v-if`和 `v-show`
- 控制元素的显示和隐藏，小程序中，使用`wx-if`和`hidden` 控制元素的显示和隐藏
- 事件处理不同，小程序中，全用  `bindtap(bind+event)`，或者  `catchtap(catch+event)`绑定事件,vue：使用`v-on:event` 绑定事件，或者使用`@event`绑定事件
- 数据双向绑定也不也不一样在 `vue`中,只需要再表单元素上加上 `v-model`,然后再绑定 `data`中对应的一个值，当表单元素内容发生变化时，`data`中对应的值也会相应改变，这是 `vue`非常 `nice` 的一点。微信小程序必须获取到表单元素，改变的值，然后再把值赋给一个 `data`中声明的变量。

## 小程序的双向绑定和vue哪里不一样

小程序直接 `this.data`属性是不可以同步到视图的，必须调用：

```js
this.setData({
    // 这里设置
})
```

## 怎么解决小程序的异步请求问题

- 小程序支持大部分 `ES6` 语法
- 在返回成功的回调里面处理逻辑`Promise`异步

## 小程序页面间有哪些传递数据的方法

1、使用全局变量实现数据传递。在 `app.js` 文件中定义全局变量 `globalData`， 将需要存储的信息存放在里面

2、使用  `wx.navigateTo`与  `wx.redirectTo` 的时候，可以将部分数据放在 `url` 里面，并在新页面`onLoad`的时候初始化

3、使用本地缓存`Storage` 相关

## 微信小程序的优劣势？

##### 优势：

1、无需下载，通过搜索和扫一扫就可以打开。

2、良好的用户体验：打开速度快。

3、开发成本要比App要低。

4、安卓上可以添加到桌面，与原生App差不多。

5、为用户提供良好的安全保障。小程序的发布，微信拥有一套严格的审查流程，不能通过审查的小程序是无法发布到线上的。

##### 劣势：

1、限制较多。页面大小不能超过1M。不能打开超过5个层级的页面。

 2、样式单一。小程序的部分组件已经是成型的了，样式不可以修改。例如：幻灯片、导航。

 3、推广面窄，不能分享朋友圈，只能通过分享给朋友，附近小程序推广。其中附近小程序也受到微信的限制。

 4、依托于微信，无法开发后台管理功能。



> 参考：
>
> 链接：https://juejin.im/post/6844903966342381581





支付宝，香港、